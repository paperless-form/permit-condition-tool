<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Permissions Form</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Select2 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css"
        rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">


    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">

    <style>
        textarea {
            width: 100%;
            height: 200px;
            font-size: 16px;
            padding: 10px;
            white-space: pre-wrap;
        }
        
        table{
            width: 100%;
            text-align: center;
        }

        .left-allign-td{
            text-align: left;
        }

        table tr{
            color: white;
        }

        .margin-for-roman{
            min-width: 4rem;
        }

        .fa-solid{
            cursor: pointer;
        }

    </style>
</head>

<body>
    <div class="container">
        <h1 class="main-heading">Permit Condition Builder</h1>
        <hr>
        <div class="d-flex">
            <div class="checkbox-container"><input type="checkbox" class="condition-checkbox table-1"></div>
            <div>
                <p class="checkbox-text">Conditions requiring a plans or a document to be approved by the
                    responsible
                    authority (including conditions requiring the use or development to be carried out in accordance
                    with the approved document).</p>
            </div>
        </div>
        <div class="d-flex">
            <div class="checkbox-container"><input type="checkbox" class="condition-checkbox table-2"></div>
            <div>
                <p class="checkbox-text">A condition requiring a use or activities to operate between specified hours.
                </p>
            </div>
        </div>
        <div class="condition-checkbox-error text-danger"></div>

        <!-- Condition 1-->
        <div class="condition-1 d-none mt-3">
            <div class="search-section mb-3">
                <label for="">What is the name of the plan(s) or document that needs to be
                    approved?</label>
                <select class="search-select mt-3 document-title" style="width: 100%">
                    <option value="" data-hide=".other-document-name, .landscape-depend, .waste-managment-depend, .vegeterian
                        -depend, .stormwater-managment, .traffic-park-management, .patron-management" selected>Select
                        Option</option>
                    <option value="plans must be approved and endorsed by the Responsible Authority. The plans must:"
                        data-hide=".other-document-name, .landscape-depend, .waste-managment-depend, .vegeterian
                        -depend, .stormwater-managment, .traffic-park-management, .patron-management">Amended application plans</option>
                    <option
                        value="a landscape plan must be approved and endorsed by the Responsible Authority. The landscape plan must:"
                        data-hide=".other-document-name, .waste-managment-depend, .vegeterian
                        -depend, .stormwater-managment, .traffic-park-management, .patron-management"
                        data-show=".landscape-depend">Landscape plan</option>
                    <option
                        value="a waste management plan must be approved and endorsed by the Responsible Authority. The waste management plan must:"
                        data-hide=".other-document-name, .landscape-depend, .vegeterian-depend, .stormwater-managment, .traffic-park-management, .patron-management"
                        data-show=".waste-managment-depend">Waste management plan</option>
                    <option
                        value="a vegetation management plan must be approved and endorsed by the Responsible Authority. The vegetation management plan must:"
                        data-hide=".other-document-name, .landscape-depend, .waste-managment-depend, .stormwater-managment, .traffic-park-management, .patron-management"
                        data-show=".vegeterian-depend">Vegetation management plan</option>
                    <option
                        value="a stormwater management plan must be approved and endorsed by the Responsible Authority. The stormwater management plan must:"
                        data-hide=".other-document-name, .landscape-depend, .waste-managment-depend, .vegeterian-depend, .traffic-park-management, .patron-management"
                        data-show=".stormwater-managment">Stormwater management plan</option>
                    <option
                        value="a traffic and parking management plan must be approved and endorsed by the Responsible Authority. The traffic and parking management plan must:"
                        data-hide=".other-document-name, .landscape-depend, .waste-managment-depend, .vegeterian-depend, .stormwater-managment, .patron-management"
                        data-show=".traffic-park-management">Traffic and parking management plan</option>
                    <option
                        value="a noise and amenity / patron management plan must be approved and endorsed by the Responsible Authority. The noise and amenity / patron management plan must:"
                        data-hide=".other-document-name, .landscape-depend, .waste-managment-depend, .vegeterian-depend, .stormwater-managment, .traffic-park-management"
                        data-show=".patron-management">Noise and amenity / patron management plan</option>
                    <option value="Other document name"
                        data-hide=".landscape-depend, .waste-managment-depend, .vegeterian-depend, .stormwater-managment, .traffic-park-management, .patron-management"
                        data-show=".other-document-name">Other document name</option>
                </select>
                <div class="text-danger"></div>
            </div>
            <div class="other-document-name d-none mb-3">
                <label for="">Name of Document</label>
                <input type="text" class="form-control name-of-document">
                <div class="text-danger"></div>
            </div>

            <div class="search-section mb-3">
                <label for="">When does the plan(s) / document need to be approved?</label>
                <select class="search-select mt-3 plan-need-approved" style="width: 100%">
                    <option value="" data-hide=".event-section, .issued-time-section, .specified-date-section" selected>
                        Select Option</option>
                    <option value="Before the development starts"
                        data-hide=".event-section, .issued-time-section, .specified-date-section">Before the development
                        starts</option>
                    <option value="Before the use starts"
                        data-hide=".event-section, .issued-time-section, .specified-date-section">Before the use starts
                    </option>
                    <option value="Before the works starts"
                        data-hide=".event-section, .issued-time-section, .specified-date-section">Before the works
                        starts</option>
                    <option value="Before the plan of subdivision is certified under the Subdivision Act 1988"
                        data-hide=".event-section, .issued-time-section, .specified-date-section">Before
                        the plan of subdivision is certified under the Subdivision Act 1988</option>
                    <option value="Before a statement of compliance is issued"
                        data-hide=".event-section, .issued-time-section, .specified-date-section">Before a statement of
                        compliance
                        is issued</option>
                    <option value="Before the vegetation removal starts"
                        data-hide=".event-section, .issued-time-section, .specified-date-section">Before the vegetation
                        removal starts</option>
                    <option value="Before the development is occupied"
                        data-hide=".event-section, .issued-time-section, .specified-date-section">Before the development
                        is occupied</option>
                    <option value="Before a specified event" data-show=".event-section"
                        data-hide=".issued-time-section, .specified-date-section">Before a specified event
                    </option>
                    <option value="Within a specified time of the issued date of this permit"
                        data-show=".issued-time-section" data-hide=".event-section, .specified-date-section">Within a
                        specified time
                        of the issued date of this permit</option>
                    <option value="Within a specified time of the date of the amendment of the permit"
                        data-show=".issued-time-section" data-hide=".event-section, .specified-date-section">Within a
                        specified
                        time of the date of the amendment of the permit</option>
                    <option value="By no later than a specified date" data-show=".specified-date-section"
                        data-hide=".event-section, .issued-time-section">By no later
                        than a specified date</option>
                    <option value="Within a specified time of an event" data-show=".event-section, .issued-time-section"
                        data-hide=".specified-date-section">Within a
                        specified
                        time
                        of an event</option>
                </select>
                <div class="text-danger"></div>
            </div>
            <div class="event-section d-none mb-3">
                <label for="">Event</label>
                <input type="text" class="form-control event-document-approved-name">
                <div class="text-danger"></div>
            </div>
            <div class="issued-time-section d-none mb-3">
                <label for="">Issued time (months or years)</label>
                <input type="text" class="form-control issued-document-approved-time" placeholder="12 months or 1 year">
                <div class="text-danger"></div>
            </div>
            <div class="specified-date-section d-none mb-3">
                <label for="">Specified date</label>
                <input type="text" class="form-control datepicker date-document-approved" readonly
                    placeholder="dd/mm/yyyy">
                <div class="text-danger"></div>
            </div>

            <div class="search-section mb-3">
                <label for="">How should the document be prepared?</label>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="prepared-checkbox"></div>
                    <div>
                        <p class="checkbox-text">be prepared to the satisfaction of the responsible authority</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="prepared-checkbox"></div>
                    <div>
                        <p class="checkbox-text">be prepared by a suitably qualified person</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="prepared-checkbox"></div>
                    <div>
                        <p class="checkbox-text">be drawn to scale with dimensions</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="prepared-checkbox"></div>
                    <div>
                        <p class="checkbox-text">be submitted to the responsible authority in electronic form</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="prepared-checkbox"></div>
                    <div>
                        <p class="checkbox-text">Insert custom preparation requirement</p>
                    </div>
                </div>
                <div class="prepared-checkbox-error text-danger"></div>
            </div>
            <div class="prepared-section d-none mb-3">
                <label for="">Preparation – Custom Other Requirements</label>
                <input type="text" class="form-control document-prepared-other-requirements not-required">
                <div class="text-danger"></div>
            </div>

            <div class="search-section mb-3">
                <label for="">Does the document need to be generally in accordance with another
                    document?</label>
                <select class="no-search-select  mt-3 document-version" style="width: 100%">
                    <option value="" selected data-hide=".other-doc, .specify-div">Select Option</option>
                    <option data-hide=".other-doc, .specify-div" value="No, it is a new document">No, it
                        is a new document</option>
                    <option data-hide=".other-doc, .specify-div"
                        value="The document needs to be generally in accordance with the document forming part of the permit application.">
                        The document needs to be generally in
                        accordance with the document forming part of the permit application.
                    </option>
                    <option data-hide=".other-doc" data-show=".specify-div" 
                        value="The document needs to be generally in accordance with the document forming part of the permit application, but with specified changes.">
                        The document
                        needs to be generally in accordance with the document forming part of the permit application,
                        but with specified changes.</option>
                    <option 
                        value="The document needs to be generally in accordance with another document, but with specified changes."
                        data-show=".other-doc, .specify-div">The document needs to be generally in
                        accordance with another document, but with specified changes.
                    </option>
                </select>
                <div class="text-danger"></div>
            </div>
            <div class="other-doc d-none mb-3">
                <label for="">Name & Version of Document</label>
                <input type="text" class="form-control document-version-other-doc">
                <div class="text-danger"></div>
            </div>

            <div class="mb-3">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th colspan="2">What changes must the plan(s) or document include?</th>
                        </tr>
                    </thead>
                    <tbody class="document-include-tbody">
                      <tr>
                        <td width="90%" contenteditable="true" class="left-allign-td"></td>
                        <td width="10%"><i class="fa-solid fa-plus text-white bg-success p-1"></i></td>
                      </tr>
                    </tbody>
                </table>
                <!-- <label for="">What changes must the plan(s) or document include?</label>
                <textarea class="limitedTextarea"></textarea> -->
                <div class="document-table-error text-danger"></div>
            </div>

            <div class="landscape-depend d-none">
                <label for="">What other details must the plan(s) or document include?</label>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">layout of landscaping and planting within all open areas of the subject land</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">a survey (including botanical names) of all existing vegetation to be retained and/or removed</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">buildings and trees (including botanical names) on neighbouring properties within three metres of the boundary</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">details of surface finishes of pathways and driveways</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">a planting schedule of all proposed trees, shrubs and ground covers, including botanical names, common names, pot sizes, sizes at maturity, and quantities of each plant</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">[insert number] canopy trees (minimum two metres tall when planted) in the following areas: [specify location]</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">details of how the project responds to water sensitive urban design principles, including how storm water will be mitigated, captured, cleaned and stored for onsite use and the location and type of irrigation systems to be used including the location of any rainwater tanks to be used for irrigation</p>
                    </div>
                </div>
            </div>
            <div class="waste-managment-depend d-none">
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">anticipated volumes of waste and recycling that will be generated and how they are determined</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">the type and number of waste bins</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">the type and size of trucks required for waste collection</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">a plan detailing adequate areas for waste bin storage and collection for the required type and number of bins</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">frequency of waste collection</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">hours for waste collection</p>
                    </div>
                </div>
            </div>
            <div class="vegeterian-depend d-none">
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">measures that must be incorporated into the design and construction of the development to ensure the protection of any trees identified for retention, determined in accordance with Australian Standard AS4970-2009 - Protection of Trees on Development Sites</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">the location of tree protection zones (TPZ) and tree protection fencing for trees identified for retention on a plan that is drawn to scale with dimensions</p>
                    </div>
                </div>
            </div>
            <div class="stormwater-managment d-none">
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">include details of the proposed stormwater management system, including drainage works and retention, detention and discharges of stormwater to the drainage system</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">set out how the stormwater management system will be managed on an ongoing basis</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">demonstrate how all relevant standards set out in the planning scheme relating to stormwater management will meet the objectives in the planning scheme, including modelling and calculations</p>
                    </div>
                </div>
            </div>
            <div class="traffic-park-management d-none">
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">the means by which the on-site car parking and bicycle parking spaces will be allocated and managed</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">the location of all areas on-and/or off-site to be used for staff and patron parking</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">owner's permission and any required planning permission for parking on other land</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">specification of staff numbers adequate to enable efficient operation of car parking areas both on-site and off-site</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">the number and location of all on- and off- site security staff</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">the means by which the direction of traffic and pedestrian flows to and from car parking areas will be controlled both on- and off-site</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">measures to discourage patron car parking in (specify location)</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">measures to preclude staff parking in designated patron car parking areas</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">staffing and other measures to ensure the orderly departure and arrival of patrons especially</p>
                    </div>
                </div>
            </div>
            <div class=".patron-management d-none">
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">staffing and other measures which are designed to ensure the orderly arrival and departure of patrons</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">signage to be used to encourage responsible off-site patron behaviour</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">the training of staff in the management of patron behaviour</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">staff communication arrangements</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">measures to control noise emissions from the premises</p>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="checkbox-container"><input type="checkbox" class="document-include-checkbox">
                    </div>
                    <div>
                        <p class="checkbox-text">complaint handling process to effectively manage any complaints received. This must include a Complaints Register to be kept at the premises which records details of the complaint received, any action taken and the response provided to the complainant</p>
                    </div>
                </div>
            </div>

            <div class="mb-3 specify-div d-none">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th colspan="2">Specify other requirements</th>
                        </tr>
                    </thead>
                    <tbody class="specify-requirements-tbody">
                      <tr>
                        <td width="90%" contenteditable="true" class="left-allign-td"></td>
                        <td width="10%"><i class="fa-solid fa-plus text-white bg-success p-1"></i></td>
                      </tr>
                    </tbody>
                </table>
                <!-- <label for="">What changes must the plan(s) or document include?</label>
                <textarea class="limitedTextarea"></textarea> -->
                <div class="table-error text-danger"></div>
            </div>
            <!-- <div class="mb-3">
                <label for="">Specify other requirements</label>
                <textarea class="specify-requirements"></textarea>
                <div class="text-danger"></div>
            </div> -->

            <div class="search-section mb-3">
                <label for="">Do you want to allow the requirements to be modified with the written consent of the responsible authority?</label>
                <select class="no-search-select mt-3 allow-modify-requirements" style="width: 100%">
                    <option value="" selected disabled>Select Option</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>
                <div class="text-danger"></div>
            </div>

            <div class="search-section mb-3">
                <label for="">Does the plan or document require works or other things to be done within a specified time?</label>
                <select class="no-search-select mt-3 other-things-to-be-done" style="width: 100%">
                    <option value="" selected disabled data-hide=".things-to-be-done">Select Option</option>
                    <option value="Yes" data-show=".things-to-be-done">Yes</option>
                    <option value="No" data-hide=".things-to-be-done">No</option>
                </select>
                <div class="text-danger"></div>
            </div>
            <div class="things-to-be-done mb-3 d-none">
                <label for="">What works or other things are required to be done?</label>
                <input type="text" class="form-control required things-to-be-done-required">
                <div class="text-danger"></div>
            </div>

            <div class="search-section mb-3 things-to-be-done d-none">
                <label for="">When must the works or other requirements be completed by?</label>
                <select class="no-search-select mt-3 other-works-complete-by" style="width: 100%">
                    <option value=""
                        data-hide=".event-complete-section, .issued-complete-time-section, .specified-complete-date-section"
                        selected>
                        Select Option</option>
                    <option value="Before the development starts, "
                        data-hide=".event-complete-section, .issued-complete-time-section, .specified-complete-date-section">
                        Before the development
                        starts</option>
                    <option value="Before the use starts, "
                        data-hide=".event-complete-section, .issued-complete-time-section, .specified-complete-date-section">
                        Before the use starts
                    </option>
                    <option value="Before the works starts, "
                        data-hide=".event-complete-section, .issued-complete-time-section, .specified-complete-date-section">
                        Before the works
                        starts</option>
                    <option value="Before the plan of subdivision is certified under the Subdivision Act 1988, "
                        data-hide=".event-complete-section, .issued-complete-time-section, .specified-complete-date-section">
                        Before
                        the plan of subdivision is certified under the Subdivision Act 1988</option>
                    <option value="Before a statement of compliance is issued, "
                        data-hide=".event-complete-section, .issued-complete-time-section, .specified-complete-date-section">
                        Before a statement of
                        compliance
                        is issued</option>
                    <option value="Before the vegetation removal starts, "
                        data-hide=".event-complete-section, .issued-complete-time-section, .specified-complete-date-section">
                        Before the vegetation
                        removal starts</option>
                    <option value="Before the development is occupied, "
                        data-hide=".event-complete-section, .issued-complete-time-section, .specified-complete-date-section">
                        Before the development
                        is occupied</option>
                    <option value="Before a specified event" data-show=".event-complete-section"
                        data-hide=".issued-complete-time-section, .specified-complete-date-section">Before a specified
                        event
                    </option>
                    <option value="Within a specified time of the issued date of this permit"
                        data-show=".issued-complete-time-section"
                        data-hide=".event-complete-section, .specified-complete-date-section">Within a
                        specified time
                        of the issued date of this permit</option>
                    <option value="Within a specified time of the date of the amendment of the permit"
                        data-show=".issued-complete-time-section"
                        data-hide=".event-complete-section, .specified-complete-date-section">Within a
                        specified
                        time of the date of the amendment of the permit</option>
                    <option value="By no later than a specified date" data-show=".specified-complete-date-section"
                        data-hide=".event-complete-section, .issued-complete-time-section">By no later
                        than a specified date</option>
                    <option value="Within a specified time of an event"
                        data-show=".event-complete-section, .issued-complete-time-section"
                        data-hide=".specified-complete-date-section">Within a
                        specified
                        time
                        of an event</option>
                </select>
                <div class="text-danger"></div>
            </div>
            <div class="event-complete-section d-none mb-3">
                <label for="">Event</label>
                <input type="text" class="form-control required event-complete-by-name">
                <div class="text-danger"></div>
            </div>
            <div class="issued-complete-time-section d-none mb-3">
                <label for="">Issued time (months or years)</label>
                <input type="text" class="form-control required issued-complete-by-time" placeholder="12 months or 1 year">
                <div class="text-danger"></div>
            </div>
            <div class="specified-complete-date-section d-none mb-3">
                <label for="">Specified date</label>
                <input type="text" class="form-control datepicker required specified-complete-by-date" readonly placeholder="dd/mm/yyyy">
                <div class="text-danger"></div>
            </div>

            <div class="search-section mb-3">
                <label for="">Does the plan or document contain requirements for a use to be operated in a particular
                    manner?</label>
                <select class="no-search-select mt-3 document-contain-requirements" style="width: 100%">
                    <option value="" selected disabled>Select Option</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>
                <div class="text-danger"></div>
            </div>

        </div>

        <!-- Condition 2-->
        <div class="condition-2 d-none mt-3">
            <div class="search-section mb-3">
                <label for="">What aspect of the use’s operation is the condition regulating?</label>
                <select class="no-search-select mt-3 component-select" style="width: 100%">
                    <option data-hide=".specific-aspect" value="" disabled selected>Select Option</option>
                    <option data-hide=".specific-aspect" value="component 1">A condition regulating the general hours of operation for the
                        approved use.</option>
                    <option data-hide=".specific-aspect" value="component 2">A condition regulating the delivery times for the approved use.
                    </option>
                    <option data-show=".specific-aspect" value="component 3">A condition regulating a specific aspect of an approved use.
                    </option>
                </select>
                <div class="text-danger"></div>
            </div>
            <div class="specific-aspect d-none mb-3">
                <label for="">Specific-aspect Component</label>
                <input type="text" class="form-control specific-aspect-component">
                <div class="text-danger"></div>
            </div>

            <div class="search-section mb-3">
                <label for="">What days of the week do the hours of operation relate to?</label>
                <div class="row my-3">
                    <div class="col-md-4">
                        <div class="d-flex flex-wrap align-items-center">
                            <div class="d-flex align-items-center flex-grow-1">
                                <div class="checkbox-container">
                                    <input type="checkbox" class="time-checkbox">
                                </div>
                                <div>
                                    <p class="checkbox-text mb-0">Monday to Friday</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8 time-div d-none">
                        <div class="d-flex align-items-center time-container">
                            <div class="time-div">
                                <input type="text" id="flatpickr-time" class="form-control from-time" placeholder="Select Time" value="09:00 AM">
                            </div>
                            <div class="m-2">TO</div>
                            <div class="time-div">
                                <input type="text" id="flatpickr-time" class="form-control to-time" placeholder="Select Time" value="05:00 PM">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <div class="d-flex flex-wrap align-items-center">
                            <div class="d-flex align-items-center flex-grow-1">
                                <div class="checkbox-container">
                                    <input type="checkbox" class="time-checkbox">
                                </div>
                                <div>
                                    <p class="checkbox-text mb-0">Saturday</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8 time-div d-none">
                        <div class="d-flex align-items-center time-container">
                            <div class="time-div">
                                <input type="text" id="flatpickr-time" class="form-control from-time" placeholder="Select Time" value="09:00 AM">
                            </div>
                            <div class="m-2">TO</div>
                            <div class="time-div">
                                <input type="text" id="flatpickr-time" class="form-control to-time" placeholder="Select Time" value="05:00 PM">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="d-flex flex-wrap align-items-center">
                            <div class="d-flex align-items-center flex-grow-1">
                                <div class="checkbox-container">
                                    <input type="checkbox" class="time-checkbox">
                                </div>
                                <div>
                                    <p class="checkbox-text mb-0">Sunday or public holiday.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8 time-div d-none">
                        <div class="d-flex align-items-center time-container">
                            <div class="time-div">
                                <input type="text" id="flatpickr-time" class="form-control from-time" placeholder="Select Time" value="09:00 AM">
                            </div>
                            <div class="m-2">TO</div>
                            <div class="time-div">
                                <input type="text" id="flatpickr-time" class="form-control to-time" placeholder="Select Time" value="05:00 PM">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="text-danger"></div>
            </div>


            <div class="search-section mb-3">
                <label for="">Are there activities of the use that may operate outside of these
                    hours?</label>
                <select class="no-search-select mt-3 activities-outside-hours" style="width: 100%">
                    <option value="" data-hide=".exempt-activities" disabled selected>Select Option</option>
                    <option value="Yes" data-show=".exempt-activities">Yes</option>
                    <option value="No" data-hide=".exempt-activities">No</option>
                </select>
                <div class="text-danger"></div>
            </div>
            <div class="exempt-activities d-none mb-3">
                <label for="">Exempt Activities</label>
                <input type="text" class="form-control exempt-activities-input">
                <div class="text-danger"></div>
            </div>

            <div class="search-section mb-3">
                <label for="">Can the hours be varied with the written consent of the responsible
                    authority?</label>
                <select class="no-search-select mt-3 responsible-authority-consent" style="width: 100%">
                    <option value="" disabled selected>Select Option</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>
                <div class="text-danger"></div>
            </div>
        </div>

        <div class="button-container">
            <button class="btn submit-btn">Submit</button>
        </div>

        <!-- Permissions Section -->
        <div class="checkbox-section d-none">
            <h2>Permit Conditions:</h2>

            <!-- Textarea -->
            <div class="textarea-container">
                <div class="copy-permit-condition row"></div>
            </div>

            <!-- Buttons -->
            <div class="button-container">
                <button type="button" class="btn copy-btn" onclick="copyDivContent()">Copy</button>
                <button type="button" class="btn clear-btn">Reset</button>
            </div>
        </div>


    </div>

    <!-- jQuery (required for Select2) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://kit.fontawesome.com/786d0bd98a.js" crossorigin="anonymous"></script>
    <!-- Custom JS -->
    <script src="script.js"></script>

    <script>
        var alphabet = ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'],
        count = 0;
        flatpickr("#flatpickr-time", {
            enableTime: true,
            noCalendar: true,
            dateFormat: "h:i K", // AM/PM format
            time_24hr: false
        });

        var lines = [], specify_lines = []
        $(document).ready(function () {
            $('.datepicker').datepicker({
                format: 'dd/mm/yyyy',
                autoclose: true,
                todayHighlight: true
            });
        });
        
        $(document).on('change', '.condition-checkbox', function () {
            $('.condition-checkbox').prop('checked', false);
            $(this).prop('checked', true);
            if ($('.table-1').is(':checked')) {
                $('.condition-1').removeClass('d-none');
                $('.condition-2').addClass('d-none');
            } else if ($('.table-2').is(':checked')) {
                $('.condition-2').removeClass('d-none');
                $('.condition-1').addClass('d-none');
            }
        });

        $(document).on('change', '.prepared-checkbox', function () {


            if ($(this).is(':checked') && $(this).closest('div').parent('div').find('p').text() == "Insert custom preparation requirement") {
                $('.prepared-section').removeClass('d-none');
            } else if ($(this).closest('div').parent('div').find('p').text() == "Insert custom preparation requirement"){
                $('.prepared-section').addClass('d-none');
            }
        });

        $(document).on('change','.time-checkbox',function(){
            if($(this).is(':checked')){
                $(this).closest('div.row').find('.time-div').removeClass('d-none');
            }
            else{
                $(this).closest('div.row').find('.time-div').addClass('d-none');
            }
        });

        $(document).on('click','.fa-trash',function(){
            $(this).closest('tr').remove();
        })

        $(document).on('click','.fa-plus',function(){
            var table = $(this).closest('table');
            var tbody = table.find('tbody');
            var tr = tbody.find('tr').length
            if(tr <= 19){
                tbody.find('.fa-plus').addClass('fa-trash bg-danger')
                tbody.find('.fa-plus').removeClass('fa-plus bg-success')
                tbody.append(`<tr>
                    <td width="90%" contenteditable="true" class="left-allign-td"></td>
                    <td width="10%"><i class="fa-solid fa-plus text-white bg-success p-1"></i></td>
                </tr>`)
            }
        })

        function validate() {
            var valid = true;
            $('.text-danger').empty();
            // Validate select fields
            $('select:visible').each(function () {
                var $select = $(this);
                var $errorDiv = $select.closest('div').find('.text-danger');
                if (!$select.val()) {
                    $errorDiv.html('<p>This field is required</p>');
                    valid = false;
                }
            });

            // Validate input fields
            $('.form-control:visible').each(function () {
                if(!$(this).hasClass('not-required')){
                    var $input = $(this);
                    var $errorDiv = $input.closest('div').find('.text-danger');
                    if (!$input.val().trim()) {
                        $errorDiv.html('<p>This field is required</p>');
                        valid = false;
                    }
                }
            });

            if ($('.condition-checkbox:visible').length > 0 && $('.condition-checkbox:checked').length == 0) {
                $('.condition-checkbox-error').html('<p>Check at-least one</p>');
                valid = false;
            }

            if ($('.prepared-checkbox:visible').length > 0 && $('.prepared-checkbox:checked').length == 0) {
                $('.prepared-checkbox-error').html('<p>Check at-least one</p>');
                valid = false;
            }

            $('.limitedTextarea:visible').each(function () {
                if ($(this).val().trim() == '') {
                    $(this).closest('div').find('.text-danger').html('<p>This field is required</p>');
                    valid = false;
                }
            });

            $('.document-include-tbody tr:visible').each(function(){
                if($(this).find('td:first').text().trim() == ''){
                    $('.document-table-error').html('<p>Please fill all the fields in the table</p>');
                    valid = false;
                }
            });

            $('.specify-requirements-tbody tr:visible').each(function(){
                if($(this).find('td:first').text().trim() == ''){
                    $('.table-error').html('<p>Please fill all the fields in the table</p>');
                    valid = false;
                }
            });

            if (!valid) {
                $("html, body").animate(
                    {
                        scrollTop: $(".text-danger:first").offset().top - 80,
                    },
                    100
                );
            }

            return valid;
        }

        $(document).on('click', '.submit-btn', function () {
            $('.checkbox-section').addClass('d-none')
            if (!validate()) {
                return false;
            }
            count = 0
            texareaContent()
        });

        function toRoman(num) {
            const romanNumerals = {
                1: "i", 2: "ii", 3: "iii", 4: "iv", 5: "v",
                6: "vi", 7: "vii", 8: "viii", 9: "ix", 10: "x",
                11: "xi", 12: "xii", 13: "xiii", 14: "xiv", 15: "xv",
                16: "xvi", 17: "xvii", 18: "xviii", 19: "xix", 20: "xx"
            };
            return romanNumerals[num] || "";
        }

        function texareaContent() {
            $('.checkbox-section').removeClass('d-none') 
            var content = ''
            lines = [] 
            specify_lines = []
            $('.document-include-tbody tr:visible').each(function(){
                lines.push($(this).find('td:first').text().trim());
            });
            $('.specify-requirements-tbody tr:visible').each(function(){
                specify_lines.push($(this).find('td:first').text().trim());
            });
            if($('.table-1').is(':checked')){
                var document_title = $('.document-title').find(":selected").text(),
                    document_desc = $('.document-title').find(":selected").val(),
                    event = $('.plan-need-approved').find(":selected").val().trim(),
                    document_version = $('.document-version').find(":selected").val().trim(),
                    document_include = [],
                    allow_modify_requirements = $('.allow-modify-requirements').find(":selected").val().trim(),
                    things_to_be_done = $('.other-things-to-be-done').find(":selected").val().trim(),
                    works_complete_by = $('.other-works-complete-by').find(":selected").val().trim(),
                    document_contain_requirements = $('.document-contain-requirements').find(":selected").val().trim()
                    

                $('.document-include-checkbox:visible').each(function () {
                    if ($(this).is(':checked')) {
                        document_include.push($(this).closest('div').parent('div').find('p').text())
                    }
                });

                if (document_title == "Other document name") {
                    document_title = "a " + $('.name-of-document').val() + " must be approved and endorsed by the Responsible Authority. The " + $('.name-of-document').val() + " must:"
                }

                if (event == "Before a specified event") {
                    event = "Before " + $('.event-document-approved-name').val()
                }
                else if (event == "Within a specified time of the issued date of this permit") {
                    event = "Within " + $('.issued-document-approved-time').val() + " of the issued date of this permit"
                }
                else if (event == "Within a specified time of the date of the amendment of the permit") {
                    event = "Within " + $('.issued-document-approved-time').val() + " of the date of the amendment of the permit"
                }
                else if (event == "By no later than a specified date") {
                    event = "By no later than " + $('.date-document-approved').val() + " "
                }
                else if (event == "Within a specified time of an event") {
                    event = "Within " + $('.issued-document-approved-time').val() + " of " + $('.event-document-approved-name').val()
                }

                if (works_complete_by == "Before a specified event") {
                    works_complete_by = "Before " + $('.event-complete-by-name').val()
                }
                else if (works_complete_by == "Within a specified time of the issued date of this permit") {
                    works_complete_by = "Within " + $('.issued-complete-by-time').val() + " of the issued date of this permit"
                }
                else if (works_complete_by == "Within a specified time of the date of the amendment of the permit") {
                    works_complete_by = "Within " + $('.issued-complete-by-time').val() + " of the date of the amendment of the permit"
                }
                else if (works_complete_by == "By no later than a specified date") {
                    works_complete_by = "By no later than " + $('.specified-complete-by-date').val() + " "
                }
                else if (works_complete_by == "Within a specified time of an event") {
                    works_complete_by = "Within " + $('.issued-complete-by-time').val() + " of " + $('.event-complete-by-name').val()
                }

                if (document_version == "The document needs to be generally in accordance with the document forming part of the permit application." || document_version == "The document needs to be generally in accordance with the document forming part of the permit application, but with specified changes.") {
                    document_version = "be generally in accordance with the " + document_title + " forming part of the application"
                }
                else if (document_version == "The document needs to be generally in accordance with another document, but with specified changes.") {
                    document_version = "be generally in accordance with the " + $('.document-version-other-doc').val() + " forming part of the application"
                }

                content += `<div><b>${document_title}</b></div>\n\n`
                content += `<div>1. ${event}, ${document_desc}</div>\n`

                var i = 0;
                $('.prepared-checkbox:checked').each(function(){
                    if($(this).closest('div').parent('div').find('p').text() == "Insert custom preparation requirement" && $('.document-prepared-other-requirements').val().trim() != ''){
                        content += `<div>&emsp;${alphabet[count]}) ${$('.document-prepared-other-requirements').val()} </div>\n`
                        count++
                    }
                    else if($(this).closest('div').parent('div').find('p').text() != "Insert custom preparation requirement"){
                        content += `<div>&emsp;${alphabet[count]}) ${$(this).closest('div').parent('div').find('p').text()}</div>\n`
                        count++
                    }
                    i++
                })
                if(document_version !== "No, it is a new document"){
                    content += `<div>&emsp;${alphabet[count]}) ${document_version}, but modified to show:</div>\n`
                    count++
                    for (var i = 0; i < lines.length; i++) {
                        content += `<div style="display: flex;align-items: baseline;"><div style="white-space: pre;" class="margin-for-roman">&emsp;&emsp;${toRoman(i + 1)}.</div><div style="margin-left: 10px;"> ${lines[i]}</div></div>\n` //roman number
                    }
                }
                

                document_include.length != 0 ? content += `<div>&emsp;${alphabet[count]}) Include following details:</div>\n` : specify_lines.length != 0 ? content += `<div>&emsp;${alphabet[count]}) Include following details:</div>\n` : ''
                count++
                for (var i = 0; i < document_include.length; i++) {
                    content += `<div style="display: flex;align-items: baseline;"><div style="white-space: pre;" class="margin-for-roman">&emsp;&emsp;${toRoman(i + 1)}.</div><div style="margin-left: 10px;"> ${document_include[i]}</div></div>\n`
                }

                if($('.specify-requirements-tbody tr:visible').length > 0){
                    var roman_number = document_include.length
                    for(var i = 0; i < specify_lines.length; i++){
                        content += `<div style="display: flex;align-items: baseline;"><div style="white-space: pre;" class="margin-for-roman">&emsp;&emsp;${toRoman(roman_number + 1)}.</div><div style="margin-left: 10px;"> ${specify_lines[i]}</div></div>\n`
                        roman_number++
                    }
                }

                // if($('.specify-requirements').val().trim() != ''){
                //     var specify_requirements = $('.specify-requirements').val().split("\n")
                    
                //     var roman_number = document_include.length

                //     for(var i = 0; i < specify_requirements.length; i++){
                //         content += `<div style="display: flex;align-items: baseline;"><div style="white-space: pre;" class="margin-for-roman">&emsp;&emsp;${toRoman(roman_number+1)}.</div><div style="margin-left: 10px;"> ${specify_requirements[i]}</div></div>\n`
                //         roman_number++
                //     }
                // }

                if(allow_modify_requirements == "Yes") {
                    content += `<div>The responsible authority may consent in writing to vary any of these requirements.</div>\n`
                }

                if(things_to_be_done == "Yes"){
                    content += `\n<div><b>Completion of `+$('.things-to-be-done-required').val()+`</b></div>\n`
                    // content += `<div>2. `+works_complete_by+` the `+$('.things-to-be-done-required').val()+` included in the approved `+document_title+` must be carried out and completed to the satisfaction of the responsible authority.</div>\n`
                    content += `<div style="display: flex;align-items: baseline;"><div style="white-space: pre;">2. </div><div> `+works_complete_by+` the `+$('.things-to-be-done-required').val()+` included in the approved `+document_title+` must be carried out and completed to the satisfaction of the responsible authority.</div></div>\n`
                }

                if(document_contain_requirements == "Yes"){
                    content += `\n<div><b>Compliance with document approved under this permit</b></div>\n`
                    content += things_to_be_done == "Yes" ? `<div style="display: flex;align-items: baseline;"><div style="white-space: pre;">3. </div><div> At all times what the permit allows must be carried out in accordance with the requirements of any document approved under this permit to the satisfaction of the responsible authority.</div></div>\n` : `<div style="display: flex;align-items: baseline;"><div style="white-space: pre;">2. </div><div> At all times what the permit allows must be carried out in accordance with the requirements of any document approved under this permit to the satisfaction of the responsible authority.</div></div>\n`
                }

            }
            else if($('.table-2').is(':checked')){
                var component_value = $('.component-select').find(":selected").val()
                if(component_value == "component 1"){
                    content += `<div><b>Hours of operation</b></div>\n`
                    content += `<div>1. The use must only operate between the following times:</div>\n`
                }
                else if(component_value == "component 2"){
                    content += `<div><b>Regulation of delivery times</b></div>\n`
                    content += `<div>1. Deliveries to and from the site (including waste collection) must only take place between the following times:</div>\n`
                }
                else if(component_value == "component 3"){
                    content += `<div><b>Regulation of ${$('.specific-aspect-component').val()}</b></div>\n`
                    content += `<div>1. The ${$('.specific-aspect-component').val()} of the use must only operate between the following times:</div>\n`
                }

                var counter = 0, alphabet_counter = '';
                $('.time-checkbox:checked').each(function(){
                    var row = $(this).closest('div.row');
                    content += `<div>&emsp;${alphabet[count]}) ${row.find('.from-time').val()} to ${row.find('.to-time').val()} ${row.find('p').text()}</div>\n`
                    count++
                });

                // content += `<div>&emsp;a) ${$('.from-time').val()} to ${$('.to-time').val()} ${$('.hours-of-operation-days').find(":selected").val()}</div>\n`

                if($('.activities-outside-hours').find(":selected").val() == "Yes"){
                    content += `<div>${capitalizeFirstLetter($('.exempt-activities-input').val())} may occur outside of the times specified above.</div>\n`
                }

                if($('.responsible-authority-consent').find(":selected").val() == "Yes"){
                    content += `<div>The responsible authority may consent in writing to vary any of these requirements.</div>\n`
                }


            }
            $('.copy-permit-condition').html(content)
        }
        
        function copyDivContent() {
            const textToCopy = $('.copy-permit-condition').text(); 

            navigator.clipboard.writeText(textToCopy)

                .then(() => {
                    console.log("Text copied to clipboard:", textToCopy);
                    toastr.success("Content copied to clipboard!", "Success");
                })
                .catch((err) => {
                    console.error("Failed to copy text:", err);
                    toastr.error("Failed to copy content.", "Error");
                });
        }

        function capitalizeFirstLetter(str) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        }

        $(document).on('click', '.clear-btn', function () {
            $('.checkbox-section').addClass('d-none')
            $('.copy-permit-condition').html('')
            $('select option[value=""]').prop('selected', true).change()
            $('input[type="text"]').val('')
            $('.from-time, .to-time').val('')
            $('.condition-checkbox, .prepared-checkbox').prop('checked', false)
            $('.condition-1').addClass('d-none')
            $('.condition-2').addClass('d-none')
            $('.time-checkbox').prop('checked', false)
            $('.limitedTextarea, .specify-requirements').val('')
            $('.document-include-tbody, .specify-requirements-tbody').empty()
            $('.document-include-tbody').append(`<tr>
                <td width="90%" contenteditable="true" class="left-allign-td"></td>
                <td width="10%"><i class="fa-solid fa-plus text-white bg-success p-1"></i></td>
            </tr>`)
            $('.specify-requirements-tbody').append(`<tr>
                <td width="90%" contenteditable="true" class="left-allign-td"></td>
                <td width="10%"><i class="fa-solid fa-plus text-white bg-success p-1"></i></td>
            </tr>`)
        })


    </script>
</body>

</html>

